a full example using as much of the library as possible