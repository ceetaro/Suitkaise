<div class="module-bar" data-module="processing">
    <button class="module-bar-title">suitkaise.processing</button>
    <nav class="module-bar-nav">
        <a href="#processing-why" class="module-bar-link" data-page="processing-why">why</a>
        <a href="#processing-quick-start" class="module-bar-link active" data-page="processing-quick-start">quick start</a>
        <a href="#processing" class="module-bar-link" data-page="processing">how to use</a>
        <a href="#processing-how-it-works" class="module-bar-link" data-page="processing-how-it-works">how it works</a>
        <a href="#processing-examples" class="module-bar-link" data-page="processing-examples">examples</a>
        <a href="#processing-videos" class="module-bar-link" data-page="processing-videos">videos</a>
        <a href="#processing-learn" class="module-bar-link" data-page="processing-learn">learn</a>
    </nav>
</div>
<section class="module-page">
    <h1><code><suitkaise-api>processing</suitkaise-api></code> quick start guide</h1>
    <pre><code class="language-bash">pip install <suitkaise-api>suitkaise</suitkaise-api></code></pre>
    <h2>Run a process</h2>
    <pre><code class="language-python">from <suitkaise-api>suitkaise</suitkaise-api>.<suitkaise-api>processing</suitkaise-api> import <suitkaise-api>Skprocess</suitkaise-api>

class <suitkaise-api>Doubler</suitkaise-api>(<suitkaise-api>Skprocess</suitkaise-api>):
    def __init__(self, value):
        self.value = value

    def <suitkaise-api>__run__</suitkaise-api>(self):
        self.value *= 2

    def <suitkaise-api>__result__</suitkaise-api>(self):
        return self.value

process = <suitkaise-api>Doubler</suitkaise-api>(5)
result = <suitkaise-api>process.run()</suitkaise-api> # start, wait, return result
print(result) # 10</code></pre>
    <h2>Run it multiple times</h2>
    <pre><code class="language-python">class <suitkaise-api>Doubler</suitkaise-api>(<suitkaise-api>Skprocess</suitkaise-api>):
    def __init__(self, value):
        self.value = value
        self.<suitkaise-api>process_config</suitkaise-api>.<suitkaise-api>runs</suitkaise-api> = 3 # loop 3 times

    def <suitkaise-api>__run__</suitkaise-api>(self):
        self.value *= 2

    def <suitkaise-api>__result__</suitkaise-api>(self):
        return self.value

result = <suitkaise-api>Doubler</suitkaise-api>(5).<suitkaise-api>run</suitkaise-api>()
print(result) # 40 (5 → 10 → 20 → 40)</code></pre>
    <h2>Batch processing with Pool</h2>
    <pre><code class="language-python">from <suitkaise-api>suitkaise</suitkaise-api>.<suitkaise-api>processing</suitkaise-api> import <suitkaise-api>Pool</suitkaise-api>

def double(x):
    return x * 2

<suitkaise-api>pool</suitkaise-api> = <suitkaise-api>Pool(</suitkaise-api>workers=4)
results = <suitkaise-api>pool.map(</suitkaise-api>double, [1, 2, 3, 4, 5])
print(results) # [2, 4, 6, 8, 10]</code></pre>
    <h2>Share state across processes</h2>
    <pre><code class="language-python">from <suitkaise-api>suitkaise</suitkaise-api>.<suitkaise-api>processing</suitkaise-api> import <suitkaise-api>Share</suitkaise-api>, <suitkaise-api>Pool</suitkaise-api>, <suitkaise-api>Skprocess</suitkaise-api>

<suitkaise-api>share</suitkaise-api> = <suitkaise-api>Share(</suitkaise-api>)
share.counter = 0
share.results = []

class <suitkaise-api>Worker</suitkaise-api>(<suitkaise-api>Skprocess</suitkaise-api>):
    def __init__(self, share, item):
        self.share = share
        self.item = item

    def <suitkaise-api>__run__</suitkaise-api>(self):
        self.share.results.append(self.item * 2)
        self.share.counter += 1

<suitkaise-api>pool</suitkaise-api> = <suitkaise-api>Pool(</suitkaise-api>workers=4)
<suitkaise-api>pool.star()</suitkaise-api>.<suitkaise-api>map</suitkaise-api>(<suitkaise-api>Worker</suitkaise-api>, [(share, x) for x in range(10)])

print(share.counter) # 10
print(share.results) # [0, 2, 4, ..., 18]</code></pre>
    <h2>Communicate between parent and process</h2>
    <pre><code class="language-python">from <suitkaise-api>suitkaise</suitkaise-api>.<suitkaise-api>processing</suitkaise-api> import <suitkaise-api>Skprocess</suitkaise-api>

class <suitkaise-api>Echo</suitkaise-api>(<suitkaise-api>Skprocess</suitkaise-api>):
    def <suitkaise-api>__prerun__</suitkaise-api>(self):
        self.msg = self.<suitkaise-api>listen</suitkaise-api>(timeout=1.0)

    def <suitkaise-api>__run__</suitkaise-api>(self):
        if self.msg:
            self.<suitkaise-api>tell</suitkaise-api>(f&quot;echo: {self.msg}&quot;)

process = <suitkaise-api>Echo</suitkaise-api>()
<suitkaise-api>process.start()</suitkaise-api>

<suitkaise-api>process.tell(</suitkaise-api>&quot;hello&quot;)
response = <suitkaise-api>process.listen(</suitkaise-api>timeout=2.0)
print(response) # &quot;echo: hello&quot;

<suitkaise-api>process.stop()</suitkaise-api>
<suitkaise-api>process.wait()</suitkaise-api></code></pre>
    <h2>Add retries and timeouts</h2>
    <pre><code class="language-python">class <suitkaise-api>ReliableWorker</suitkaise-api>(<suitkaise-api>Skprocess</suitkaise-api>):
    def __init__(self):
        self.<suitkaise-api>process_config</suitkaise-api>.<suitkaise-api>lives</suitkaise-api> = 3 # retry up to 2 times on crash
        self.<suitkaise-api>process_config</suitkaise-api>.<suitkaise-api>timeouts</suitkaise-api>.<suitkaise-api>run</suitkaise-api> = 10.0 # 10 second timeout per run

    def <suitkaise-api>__run__</suitkaise-api>(self):
        do_work()</code></pre>
    <h2>Want to learn more?</h2>
    <ul>
        <li><strong>Why page</strong> — why <code><suitkaise-api>processing</suitkaise-api></code> exists and what problems it solves</li>
        <li><strong>How to use</strong> — full API reference for <code><suitkaise-api>Skprocess</suitkaise-api></code>, <code><suitkaise-api>Pool</suitkaise-api></code>, <code><suitkaise-api>Share</suitkaise-api></code>, <code><suitkaise-api>Pipe</suitkaise-api></code></li>
        <li><strong>Examples</strong> — progressively complex examples into a full script</li>
        <li><strong>How it works</strong> — internal architecture (level: advanced)</li>
    </ul>
</section>
