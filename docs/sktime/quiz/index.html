<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKTime Interactive Quiz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 1rem;
        }
        
        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }
        
        .progress-text {
            color: #64748b;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        
        .question-container {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .question-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .question-number {
            background: #3b82f6;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .question-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e293b;
        }
        
        .code-editor {
            border: 2px solid #374151;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .CodeMirror {
            font-size: 14px;
            font-family: 'Fira Code', 'Monaco', 'Consolas', 'JetBrains Mono', monospace;
            background: #272822 !important;
        }
        
        .CodeMirror-scroll {
            /* Height will be set dynamically per question */
        }
        
        .CodeMirror-gutters {
            background: #272822;
            border-right: 1px solid #49483e;
        }
        
        .CodeMirror-linenumber {
            color: #75715e;
        }
        
        /* Fallback textarea styling for dark mode */
        .fallback-editor {
            background: #272822;
            color: #f8f8f2;
            border: 2px solid #374151;
            border-radius: 8px;
            padding: 12px;
            font-family: 'Fira Code', 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            width: 100%;
            box-sizing: border-box;
            /* Height will be set dynamically per question */
        }
        
        .fallback-editor::placeholder {
            color: #75715e;
        }
        
        .fallback-editor:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }
        
        .btn-primary.correct {
            background: #10b981;
            border: 2px solid #059669;
        }
        
        .btn-primary.correct:hover {
            background: #059669;
        }
        
        .btn-primary.incorrect {
            background: #ef4444;
            border: 2px solid #dc2626;
        }
        
        .btn-primary.incorrect:hover {
            background: #dc2626;
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
            border: 1px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        
        .explanation {
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }
        
        .explanation.correct {
            background: #d1fae5;
            border: 2px solid #10b981;
        }
        
        .explanation.showed-answer {
            background: #fee2e2;
            border: 2px solid #ef4444;
        }
        
        .explanation h4 {
            color: #1e293b;
            margin-bottom: 0.5rem;
        }
        
        .explanation code {
            background: #f1f5f9;
            color: #374151;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Fira Code', 'Monaco', 'Consolas', 'JetBrains Mono', monospace;
            font-size: 0.9em;
            border: 1px solid #e2e8f0;
        }
        
        .explanation.showed-answer code {
            background: #fef2f2;
            border-color: #fecaca;
        }
        
        .explanation.correct code {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }
        
        .nav-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            color: #475569;
        }
        
        .nav-btn:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .hidden {
            display: none !important;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.75rem;
            margin-top: 0.75rem;
        }
        
        .stat-card {
            background: #f8fafc;
            padding: 0.75rem;
            border-radius: 6px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        
        .stat-number {
            font-size: 1.25rem;
            font-weight: bold;
            color: #3b82f6;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.8rem;
        }
        
        .question-selector {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }
        
        .question-selector h4 {
            margin-bottom: 0.75rem;
            color: #374151;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .question-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 0.5rem;
            max-width: 100%;
        }
        
        .question-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            color: #64748b;
        }
        
        .question-btn:hover {
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-1px);
        }
        
        .question-btn.current {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }
        
        .question-btn.completed {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }
        
        .question-btn.attempted {
            background: #f59e0b;
            border-color: #f59e0b;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ sktime Interactive Quiz</h1>
            <p>Test your knowledge of the sktime module with interactive coding challenges</p>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0 of 40 correct</div>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="correctCount">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="attemptedCount">0</div>
                    <div class="stat-label">Attempted</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="accuracyRate">0%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
            </div>
        </div>
        
        <div class="question-container">
            <div class="question-header">
                <div class="question-number" id="questionNumber">1</div>
                <div class="question-title" id="questionTitle">Loading...</div>
            </div>
            
            <div class="code-editor">
                <textarea id="codeEditor"></textarea>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" id="checkBtn">Check Answer</button>
                <button class="btn btn-secondary" id="resetBtn">Reset</button>
                <button class="btn btn-secondary" id="showAnswerBtn">Show Answer</button>
            </div>
            
            <div class="explanation" id="explanation"></div>
            
            <div class="question-selector">
                <h4>Jump to Question:</h4>
                <div class="question-grid" id="questionGrid">
                    <!-- Question buttons will be generated by JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="navigateQuestion(-1)">
                ‚Üê Previous
            </button>
            <span id="questionCounter">1 / 40</span>
            <button class="nav-btn" id="nextBtn" onclick="navigateQuestion(1)">
                Next ‚Üí
            </button>
        </div>
    </div>

    <script>
        // Quiz data
        const questions = [
  {
    "number": 1,
    "title": "import the sktime module",
    "given_code": "",
    "answer_code": "from suitkaise import sktime",
    "explanation": "In order to use suitkaise modules, you need to import the module using \"from suitkaise import (module name)\". this avoids unnecessary import logic that you might not want to use.",
    "editor_height": 132
  },
  {
    "number": 2,
    "title": "get the current time",
    "given_code": "from suitkaise import sktime\n\ncurrent_time = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ncurrent_time = sktime.now()\n\n# or...\ncurrent_time = sktime.get_current_time()",
    "explanation": "You can use the `now()` function to get the current time, or the `get_current_time()` function to get the current time. Either works, and they are functionally the same.",
    "editor_height": 204
  },
  {
    "number": 3,
    "title": "sleep for 3 seconds and return the time after sleeping",
    "given_code": "from suitkaise import sktime\n\ncurrent_time = sktime.now()\n\nthree_seconds_later = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ncurrent_time = sktime.now()\n\nthree_seconds_later = sktime.sleep(3)",
    "explanation": "You can use the `sleep()` function to sleep the current thread for a given number of seconds. If you assign the result to a variable, it will return the time after sleeping.",
    "editor_height": 180
  },
  {
    "number": 4,
    "title": "sleep for 3 seconds without returning the current time",
    "given_code": "from suitkaise import sktime\n\n# how do you sleep without returning the current time?\n\n# replace this line with your answer",
    "answer_code": "from suitkaise import sktime\n\n# how do you sleep without returning the current time?\n\nsktime.sleep(3)",
    "explanation": "You can use the `sleep()` function to just sleep the current thread without returning the time after the sleep call.",
    "editor_height": 180
  },
  {
    "number": 5,
    "title": "get elapsed time using 2 given times",
    "given_code": "from suitkaise import sktime\n\ntime1 = sktime.now()\ntime2 = time1 + 3\n\nelapsed = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntime1 = sktime.now()\ntime2 = time1 + 3\n\nelapsed = sktime.elapsed(time1, time2)\n\n# or...\nelapsed = sktime.elapsed(time2, time1)",
    "explanation": "You can use the `elapsed()` function to get the elapsed time between 2 given times. The order of the times doesn't matter, it will automatically handle it using absolute value.",
    "editor_height": 276
  },
  {
    "number": 6,
    "title": "get elapsed time using 1 given time",
    "given_code": "from suitkaise import sktime\n\ntime1 = sktime.now()\n\nelapsed = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntime1 = sktime.now()\n\nelapsed = sktime.elapsed(time1)",
    "explanation": "You can use the `elapsed()` function with only one time float given. It will automatically use the current time as the second time.",
    "editor_height": 180
  },
  {
    "number": 7,
    "title": "setup a `Yawn` instance that sleeps for 5 seconds after every 10 yawn() calls",
    "given_code": "from suitkaise import sktime\n\nyawn_instance = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(sleep_duration=5, yawn_threshold=10)\n\n# or...\nyawn_instance = sktime.Yawn(5, 10)",
    "explanation": "The order of the arguments is (sleep duration in seconds, how many yawns before sleeping).",
    "editor_height": 204
  },
  {
    "number": 8,
    "title": "Log when the `Yawn` instance sleeps",
    "given_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10, # answer goes here)",
    "answer_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10, True)\n\n# or...\nyawn_instance = sktime.Yawn(5, 10, log_sleep=True)",
    "explanation": "You can use the `log_sleep` argument to log when a `Yawn` instance sleeps.",
    "editor_height": 204
  },
  {
    "number": 9,
    "title": "check if the `Yawn` instance slept",
    "given_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\nfor i in range(100):\n    if # answer goes here:\n        print(\"Just slept!\")\n    else:\n        print(\"Still yawning...\")",
    "answer_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\nfor i in range(100):\n    if yawn_instance.yawn():\n        print(\"Just slept!\")\n    else:\n        print(\"Still yawning...\")",
    "explanation": "`yawn()` returns True if the `Yawn` instance slept, False otherwise.",
    "editor_height": 276
  },
  {
    "number": 10,
    "title": "reset the `Yawn` instance",
    "given_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\n# reset the yawn counter back to 0 on this line",
    "answer_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\nyawn_instance.reset()",
    "explanation": "You can use the `reset()` method to reset the yawn counter back to 0 without having to sleep or create a new `Yawn` instance.",
    "editor_height": 180
  },
  {
    "number": 11,
    "title": "get statistics about the `Yawn` instance and access them individually",
    "given_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\nstats = # answer goes here\n\ncurrent_number_of_yawns = # answer goes here\nnum_required_to_sleep = # answer goes here\nyawns_until_sleep = # answer goes here\ntotal_sleeps = # answer goes here\nsleep_duration = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\nyawn_instance = sktime.Yawn(5, 10)\n\nstats = yawn.get_stats()\n\ncurrent_number_of_yawns = stats['current_yawns']\nnum_required_to_sleep = stats['yawn_threshold']\nyawns_until_sleep = stats['yawns_until_sleep']\ntotal_sleeps = stats['total_sleeps']\nsleep_duration = stats['sleep_duration']",
    "explanation": "You can use the `get_stats()` method to get statistics about the `Yawn` instance. To access the statistics given, you use dictionary key access.",
    "editor_height": 324
  },
  {
    "number": 12,
    "title": "create a `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()",
    "explanation": "You can use the `Timer()` constructor to create a new `Timer` instance.",
    "editor_height": 132
  },
  {
    "number": 13,
    "title": "start the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n# start the timer on this line",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()",
    "explanation": "Use `start()` to start timing a time measurement/lap.",
    "editor_height": 180
  },
  {
    "number": 14,
    "title": "stop the `Timer` instance and return the elapsed time",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\nelapsed = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\nelapsed = timer.stop()",
    "explanation": "Use `stop()` to stop timing a time measurement. If you assign the result to a variable, it will return the elapsed time.",
    "editor_height": 228
  },
  {
    "number": 15,
    "title": "stop the `Timer` instance without returning the elapsed time",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\n# answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\ntimer.stop()",
    "explanation": "You can use `stop()` to stop timing a time measurement without returning the elapsed time.",
    "editor_height": 228
  },
  {
    "number": 16,
    "title": "pause the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\n# pause the timer on this line",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntimer.start()\n\ntimer.pause()",
    "explanation": "Use `pause()` to pause the timer. When paused, the timer will not accumulate time for that measurement until `resume()` is called. If already paused, it will warn and do nothing.",
    "editor_height": 228
  },
  {
    "number": 17,
    "title": "resume the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\ntimer.start()\n\n# a function that takes some time to run\ndo_something()\n\n# pause so that user can input answer\ntimer.pause()\n\nuser_answer = input(\"What is the answer?\")\n\n# resume the timer on this line",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\ntimer.start()\n\n# a function that takes some time to run\ndo_something()\n\n# pause so that user can input answer\ntimer.pause()\n\nuser_answer = input(\"What is the answer?\")\n\ntimer.resume()",
    "explanation": "Use `resume()` to resume the timer. Resume will silently do nothing if called when the timer is not paused.",
    "editor_height": 396
  },
  {
    "number": 18,
    "title": "lap the `Timer` instance and return the elapsed time",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\ntimer.start()\n\nelapsed = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\ntimer.start()\n\nelapsed = timer.lap()",
    "explanation": "Use `lap()` to stop and then start the timer again. It will return the elapsed time for this lap, and immediately start timing a new lap/time measurement.",
    "editor_height": 204
  },
  {
    "number": 19,
    "title": "add an external time measurement to the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nexternal_time = 1.5\n\n# add the external time to the timer on this line",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nexternal_time = 1.5\n\ntimer.add_time(external_time)",
    "explanation": "Use `add_time()` to add a pre-measured time to the timer. It will add the time to the next available index in the timer's statistics. It must be a float.",
    "editor_height": 228
  },
  {
    "number": 20,
    "title": "reset the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n# ... many times were measured here...\n\n# reset the timer on this line",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n# ... many times were measured here...\n\ntimer.reset()",
    "explanation": "Use `reset()` to clear all measurements and reset the timer.",
    "editor_height": 228
  },
  {
    "number": 21,
    "title": "get the original start time of the `Timer` instance (first time the timer was started)",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\noriginal_start_time = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\noriginal_start_time = timer.original_start_time",
    "explanation": "Use the `original_start_time` property to access the original start time of the timer. If the timer has never been started, it will return None.",
    "editor_height": 180
  },
  {
    "number": 22,
    "title": "get the number of times the `Timer` instance made a time measurement",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nnumber_of_times = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nnumber_of_times = timer.num_times",
    "explanation": "Use `num_times` to access the number of times the `Timer` instance made a time measurement.",
    "editor_height": 180
  },
  {
    "number": 23,
    "title": "get the most recent time of the `Timer` instance and its index",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nmost_recent_time = # answer goes here\nmost_recent_index = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nmost_recent_time = timer.most_recent\nmost_recent_index = timer.most_recent_index\n\n# or...\nmost_recent_time = timer.result\nmost_recent_index = timer.most_recent_index",
    "explanation": "Use `most_recent` to access the most recent time of the `Timer` instance. `result` does the same thing as `most_recent`. Use `most_recent_lap` to access the index of the most recent time.",
    "editor_height": 300
  },
  {
    "number": 24,
    "title": "get the total time of all measurements of a `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntotal_time = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntotal_time = timer.total_time",
    "explanation": "Use `total_time` to access the total time of all measurements of the `Timer` instance. If the timer has not yet made any measurements, it will return None.",
    "editor_height": 180
  },
  {
    "number": 25,
    "title": "get the total time paused of the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntotal_time_paused = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntotal_time_paused = timer.total_time_paused",
    "explanation": "Use `total_time_paused` to access the total time paused of the `Timer` instance. If the timer has never been paused, it will return None.",
    "editor_height": 180
  },
  {
    "number": 26,
    "title": "get the mean, median, min, max, stdev, and variance of the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nmean = # answer goes here\nmedian = # answer goes here\nmin = # answer goes here\nmax = # answer goes here\nstdev = # answer goes here\nvariance = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nmean = timer.mean\nmedian = timer.median\nmin = timer.min\nmax = timer.max\nstdev = timer.stdev\nvariance = timer.variance",
    "explanation": "Use these properties to access their respective statistics from a `Timer` instance. If the timer has not yet made any measurements, these will return None.",
    "editor_height": 300
  },
  {
    "number": 27,
    "title": "get the 95th percentile of the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\npercentile_95 = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\npercentile_95 = timer.percentile(95)",
    "explanation": "Use `percentile(N)` to get the Nth percentile of the `Timer` instance. N must be between 0 and 100. If the timer has not yet made any measurements, it will return None.",
    "editor_height": 180
  },
  {
    "number": 28,
    "title": "get the time in index 10 of the `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntime_at_index_10 = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\ntime_at_index_10 = timer.get_time(10)",
    "explanation": "Use `get_time(index)` to get the time at a given index. If the index is invalid, it will return None.",
    "editor_height": 180
  },
  {
    "number": 29,
    "title": "get the slowest time of the `Timer` instance and its index",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nslowest_time = # answer goes here\nslowest_time_index = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nslowest_time = timer.slowest_time\nslowest_time_index = timer.slowest_time_index\n\n# or...\nslowest_time = timer.max\nslowest_time_index = timer.slowest_time_index",
    "explanation": "Use `slowest_time` or `max` to access the slowest time of the `Timer` instance. Use `slowest_time_index` to access the index of the slowest time.",
    "editor_height": 300
  },
  {
    "number": 30,
    "title": "get the fastest time of the `Timer` instance and its index",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nfastest_time = # answer goes here\nfastest_time_index = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nfastest_time = timer.fastest_time\nfastest_time_index = timer.fastest_time_index\n\n# or...\nfastest_time = timer.min\nfastest_time_index = timer.fastest_time_index",
    "explanation": "Use `fastest_time` or `min` to access the fastest time of the `Timer` instance. Use `fastest_time_index` to access the index of the fastest time.",
    "editor_height": 300
  },
  {
    "number": 31,
    "title": "get all statistics of a `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nstatistics = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nstatistics = timer.get_stats()",
    "explanation": "Use `get_stats()` to get all statistics of the `Timer` instance. It returns a dictionary with all of the instance's statistics.",
    "editor_height": 180
  },
  {
    "number": 32,
    "title": "create a one use timer using the `TimeThis` context manager",
    "given_code": "from suitkaise import sktime\n\n# create a one use timer on this line with the name \"timer\"\n    # ... timed ...",
    "answer_code": "from suitkaise import sktime\n\nwith sktime.TimeThis() as timer:\n    # ... timed ...",
    "explanation": "You can use the `TimeThis` context manager to create a one use timer, by not passing in a `Timer` instance as an argument. This will create a new `Timer` instance each time, and record a single time measurement.",
    "editor_height": 156
  },
  {
    "number": 33,
    "title": "create a `TimeThis` context manager for an existing `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n# create a `TimeThis` context manager on this line without a name\n    # ... timed ...",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\nwith sktime.TimeThis(timer):\n    # ... timed ...",
    "explanation": "You create a `TimeThis` context manager for an existing `Timer` instance. This will use that timer each time, and accumulate statistics over time. You can create multiple `TimeThis` context managers that use the same `Timer` instance.",
    "editor_height": 204
  },
  {
    "number": 34,
    "title": "pause and resume the `TimeThis` context manager",
    "given_code": "from suitkaise import sktime\n\nwith sktime.TimeThis() as timer:\n\n    do_something()\n\n    # pause the timer on this line\n\n    # wait for user input\n    user_input = input(\"Press enter to continue...\")\n\n    # resume the timer on this line\n\n    do_something_else()",
    "answer_code": "from suitkaise import sktime\n\nwith sktime.TimeThis() as timer:\n\n    do_something()\n\n    timer.pause()\n\n    # wait for user input\n    user_input = input(\"Press enter to continue...\")\n\n    timer.resume()\n\n    do_something_else()",
    "explanation": "You can use the `pause()` and `resume()` methods to pause and resume the timer, just like you would with a standalone `Timer` instance.",
    "editor_height": 396
  },
  {
    "number": 35,
    "title": "return the elapsed time of the most recent time measurement from a `TimeThis` context manager",
    "given_code": "from suitkaise import sktime\n\nwith sktime.TimeThis() as timer:\n\n    # ... timed ...\n\nelapsed = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\nwith sktime.TimeThis() as timer:\n\n    # ... timed ...\n\nelapsed = timer.most_recent",
    "explanation": "Just like with a standalone `Timer` instance, you can use the `most_recent` property to access the most recent time measurement from a `TimeThis` context manager. Make sure that you access the most recent time outside the context manager.",
    "editor_height": 228
  },
  {
    "number": 36,
    "title": "use the `@timethis` decorator to time a function without an existing `Timer` instance",
    "given_code": "from suitkaise import sktime\n\n\n# add decorator here\ndef count_to_10():\n    for i in range(10):\n        print(i)",
    "answer_code": "from suitkaise import sktime\n\n@sktime.timethis()\ndef count_to_10():\n    for i in range(10):\n        print(i)",
    "explanation": "You can use the `@timethis` decorator to time a function, even without using an existing `Timer` instance. It will automatically create a new `Timer` instance for each function you want to track.",
    "editor_height": 228
  },
  {
    "number": 37,
    "title": "use the `@timethis` decorator to time a function with an existing `Timer` instance",
    "given_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n# add decorator here\ndef count_to_10():\n    for i in range(10):\n        print(i)\n\n# add another decorator here using the same timer\ndef count_to_20():\n    for i in range(20):\n        print(i)",
    "answer_code": "from suitkaise import sktime\n\ntimer = sktime.Timer()\n\n@sktime.timethis(timer)\ndef count_to_10():\n    for i in range(10):\n        print(i)\n\n@sktime.timethis(timer)\ndef count_to_20():\n    for i in range(20):\n        print(i)",
    "explanation": "You can use the `@timethis` decorator to time a function with an existing `Timer` instance. It will use that timer each time, and accumulate statistics over time. You can pass the same timer to multiple different functions.",
    "editor_height": 372
  },
  {
    "number": 38,
    "title": "directly access a function's `Timer` instance created by the `@timethis` decorator",
    "given_code": "from suitkaise import sktime\n\n@sktime.timethis()\ndef count_to_10():\n    for i in range(10):\n        print(i)\n\ntimer = # answer goes here",
    "answer_code": "",
    "explanation": "You can use the `timer` property to access the `Timer` instance of a function that has been decorated with the `@timethis` decorator. This property acts exactly the same as a regular `Timer` instance, so you can use it exactly the same way.",
    "editor_height": 252
  },
  {
    "number": 39,
    "title": "access a function's `Timer` instance from a different module using global variables",
    "given_code": "from suitkaise import sktime\n\n@sktime.timethis()\ndef count_to_10():\n    for i in range(10):\n        print(i)\n\n# ... in another module ...\n\n# module name = \"module_name\"\ncount_to_10_timer = # answer goes here",
    "answer_code": "from suitkaise import sktime\n\n@sktime.timethis()\ndef count_to_10():\n    for i in range(10):\n        print(i)\n\n# ... in another module ...\n\n# module name = \"module_name\"\ncount_to_10_timer = f_globals.get(\"module_name_count_to_10_timer\")\n\n# or...\ncount_to_10_timer = f_globals.get('module_name_count_to_10_timer')",
    "explanation": "You can use the `f_globals` dictionary to access all active global variables in your current process. \n\nClass methods naming: {module_name}_{class_name}_{method_name}_timer\nModule level functions naming: {module_name}_{function_name}_timer",
    "editor_height": 396
  },
  {
    "number": 40,
    "title": "clear all global timers created by the `@timethis` decorator for test environments",
    "given_code": "from suitkaise import sktime\n\n# clear all global timers on this line",
    "answer_code": "from suitkaise import sktime\n\nsktime.clear_global_timers()",
    "explanation": "You can use the `clear_global_timers()` function to clear all global timers created by the `@timethis` decorator. Use this when testing, or if you have been running your program fro a long time and want to clean up your cached data.",
    "editor_height": 132
  }
];
        
        // Quiz state
        let currentQuestion = 0;
        let editor = null;
        let userAnswers = JSON.parse(localStorage.getItem('sktime_quiz_answers') || '{}');
        let questionStatus = JSON.parse(localStorage.getItem('sktime_quiz_status') || '{}');
        
        // Initialize CodeMirror editor
        function initEditor() {
            console.log('Initializing editor...');
            const textarea = document.getElementById('codeEditor');
            
            if (typeof CodeMirror === 'undefined') {
                console.error('CodeMirror not loaded, falling back to plain textarea');
                textarea.className = 'fallback-editor';
                textarea.style.display = 'block';
                textarea.placeholder = 'Enter your Python code here...';
                
                // Fallback: use plain textarea
                editor = {
                    getValue: () => textarea.value,
                    setValue: (value) => { textarea.value = value; },
                    on: () => {}, // dummy function
                    setSize: (width, height) => { 
                        if (height) textarea.style.height = height + 'px'; 
                    }
                };
                
                textarea.addEventListener('input', function() {
                    userAnswers[currentQuestion] = textarea.value;
                    saveProgress();
                });
                
                return;
            }
            
            try {
                editor = CodeMirror.fromTextArea(textarea, {
                    mode: 'python',
                    theme: 'monokai',
                    lineNumbers: true,
                    indentUnit: 4,
                    indentWithTabs: false,
                    lineWrapping: true,
                    viewportMargin: Infinity,
                    matchBrackets: true,
                    autoCloseBrackets: true,
                    highlightSelectionMatches: true
                });
                
                // Save user input to localStorage
                editor.on('change', function() {
                    userAnswers[currentQuestion] = editor.getValue();
                    saveProgress();
                });
                
                console.log('CodeMirror editor initialized successfully');
            } catch (error) {
                console.error('Error initializing CodeMirror:', error);
                // Fallback to plain textarea
                textarea.className = 'fallback-editor';
                textarea.style.display = 'block';
                editor = {
                    getValue: () => textarea.value,
                    setValue: (value) => { textarea.value = value; },
                    on: () => {},
                    setSize: (width, height) => { 
                        if (height) textarea.style.height = height + 'px'; 
                    }
                };
            }
        }
        
        // Load a question
        function loadQuestion(index) {
            console.log(`Loading question ${index}`);
            if (index < 0 || index >= questions.length) {
                console.error(`Invalid question index: ${index}`);
                return;
            }
            
            currentQuestion = index;
            const question = questions[index];
            console.log('Question data:', question);
            
            // Update UI
            document.getElementById('questionNumber').textContent = question.number;
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('questionCounter').textContent = `${index + 1} / ${questions.length}`;
            
            // Load code into editor
            const savedAnswer = userAnswers[index] || question.given_code || '';
            console.log('Loading code:', savedAnswer);
            
            if (editor) {
                editor.setValue(savedAnswer);
                // Set the editor height based on the question data
                const editorHeight = question.editor_height || 150;
                console.log(`Setting editor height to ${editorHeight}px`);
                editor.setSize(null, editorHeight);
            } else {
                console.error('Editor not initialized');
            }
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === questions.length - 1;
            
            // Restore button and explanation state if this question was previously answered
            restoreButtonState();
            restoreExplanationState();
            
            // Update progress
            updateProgress();
            updateQuestionSelector();
        }
        
        // Check user's answer
        function checkAnswer() {
            const userCode = editor.getValue().trim();
            const question = questions[currentQuestion];
            const correctAnswers = question.answer_code.split('# or...').map(a => a.trim());
            
            let isCorrect = false;
            
            // Simple answer checking - normalize whitespace and compare
            for (let answer of correctAnswers) {
                const normalizedAnswer = answer.replace(/\s+/g, ' ').trim();
                const normalizedUser = userCode.replace(/\s+/g, ' ').trim();
                
                if (normalizedUser.includes(normalizedAnswer) || 
                    normalizedAnswer.includes(normalizedUser)) {
                    isCorrect = true;
                    break;
                }
            }
            
            // Update button appearance and text
            updateCheckButton(isCorrect);
            
            // Always show explanation when checking answer
            showExplanation(isCorrect ? 'correct' : 'incorrect');
            
            // Update status
            questionStatus[currentQuestion] = {
                attempted: true,
                correct: isCorrect,
                timestamp: Date.now(),
                buttonState: isCorrect ? 'correct' : 'incorrect',
                explanationState: isCorrect ? 'correct' : 'incorrect'
            };
            
            saveProgress();
            updateProgress();
            updateQuestionSelector();
        }
        
        // Update check button appearance based on answer
        function updateCheckButton(isCorrect) {
            const checkBtn = document.getElementById('checkBtn');
            
            // Remove previous state classes
            checkBtn.classList.remove('correct', 'incorrect');
            
            if (isCorrect) {
                checkBtn.classList.add('correct');
                checkBtn.textContent = '‚úì Correct';
            } else {
                checkBtn.classList.add('incorrect');
                checkBtn.textContent = '‚úó Incorrect';
            }
        }
        
        // Reset check button to default state
        function resetCheckButton() {
            const checkBtn = document.getElementById('checkBtn');
            checkBtn.classList.remove('correct', 'incorrect');
            checkBtn.textContent = 'Check Answer';
        }
        
        // Restore button state based on previous answer
        function restoreButtonState() {
            const status = questionStatus[currentQuestion];
            if (status && status.buttonState) {
                const checkBtn = document.getElementById('checkBtn');
                checkBtn.classList.remove('correct', 'incorrect');
                
                if (status.buttonState === 'correct') {
                    checkBtn.classList.add('correct');
                    checkBtn.textContent = '‚úì Correct';
                } else if (status.buttonState === 'incorrect') {
                    checkBtn.classList.add('incorrect');
                    checkBtn.textContent = '‚úó Incorrect';
                }
            } else {
                resetCheckButton();
            }
        }
        
        // Restore explanation state based on previous interaction
        function restoreExplanationState() {
            const status = questionStatus[currentQuestion];
            if (status && status.explanationState) {
                showExplanation(status.explanationState);
            } else {
                hideExplanation();
            }
        }
        
        // Show answer by populating the code editor
        function showAnswer() {
            const question = questions[currentQuestion];
            
            // Populate the editor with the answer
            if (editor) {
                editor.setValue(question.answer_code);
            }
            
            // Clear any previous button state and reset to default
            if (questionStatus[currentQuestion]) {
                delete questionStatus[currentQuestion].buttonState;
                questionStatus[currentQuestion].explanationState = 'showed-answer';
            } else {
                questionStatus[currentQuestion] = {
                    explanationState: 'showed-answer'
                };
            }
            resetCheckButton();
            
            // Show explanation in red (showing answer)
            showExplanation('showed-answer');
            
            // Save progress
            saveProgress();
        }
        
        // Show explanation with appropriate styling
        function showExplanation(type) {
            const question = questions[currentQuestion];
            const explanation = document.getElementById('explanation');
            
            // Convert backticks to code tags for inline code formatting
            const formattedExplanation = question.explanation.replace(/`([^`]+)`/g, '<code>$1</code>');
            
            explanation.innerHTML = `
                <h4>Explanation:</h4>
                <p>${formattedExplanation}</p>
            `;
            
            // Remove existing classes and add appropriate one
            explanation.className = 'explanation ' + type;
            explanation.style.display = 'block';
        }
        
        // Hide explanation
        function hideExplanation() {
            document.getElementById('explanation').style.display = 'none';
        }
        
        // Reset code to original
        function resetCode() {
            const question = questions[currentQuestion];
            editor.setValue(question.given_code || '');
            
            // Clear any previous button and explanation state
            if (questionStatus[currentQuestion]) {
                delete questionStatus[currentQuestion].buttonState;
                delete questionStatus[currentQuestion].explanationState;
                saveProgress();
            }
            resetCheckButton();
            hideExplanation();
        }
        
        // Navigate between questions
        function navigateQuestion(direction) {
            const newIndex = currentQuestion + direction;
            if (newIndex >= 0 && newIndex < questions.length) {
                loadQuestion(newIndex);
            }
        }
        
        // Update progress display
        function updateProgress() {
            const attempted = Object.keys(questionStatus).length;
            const correct = Object.values(questionStatus).filter(s => s.correct).length;
            const accuracy = attempted > 0 ? Math.round((correct / attempted) * 100) : 0;
            
            // Update progress bar based on correct answers
            const progress = (correct / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `${correct} of ${questions.length} correct`;
            
            // Update stats
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('attemptedCount').textContent = attempted;
            document.getElementById('accuracyRate').textContent = accuracy + '%';
        }
        
        // Save progress to localStorage
        function saveProgress() {
            localStorage.setItem('sktime_quiz_answers', JSON.stringify(userAnswers));
            localStorage.setItem('sktime_quiz_status', JSON.stringify(questionStatus));
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    checkAnswer();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    navigateQuestion(-1);
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    navigateQuestion(1);
                }
            }
        });
        
        // Create question selector grid
        function createQuestionSelector() {
            const grid = document.getElementById('questionGrid');
            grid.innerHTML = '';
            
            for (let i = 0; i < questions.length; i++) {
                const btn = document.createElement('button');
                btn.className = 'question-btn';
                btn.textContent = questions[i].number;
                btn.onclick = () => loadQuestion(i);
                btn.id = `question-btn-${i}`;
                grid.appendChild(btn);
            }
        }
        
        // Update question selector to show current state
        function updateQuestionSelector() {
            for (let i = 0; i < questions.length; i++) {
                const btn = document.getElementById(`question-btn-${i}`);
                if (!btn) continue;
                
                // Remove all state classes
                btn.classList.remove('current', 'completed', 'attempted');
                
                if (i === currentQuestion) {
                    btn.classList.add('current');
                } else if (questionStatus[i]) {
                    if (questionStatus[i].correct) {
                        btn.classList.add('completed');
                    } else {
                        btn.classList.add('attempted');
                    }
                }
            }
        }
        
        // Initialize the quiz
        document.addEventListener('DOMContentLoaded', function() {
            initEditor();
            createQuestionSelector();
            loadQuestion(0);
            
            // Add event listeners
            document.getElementById('checkBtn').addEventListener('click', checkAnswer);
            document.getElementById('resetBtn').addEventListener('click', resetCode);
            document.getElementById('showAnswerBtn').addEventListener('click', showAnswer);
        });
    </script>
</body>
</html>